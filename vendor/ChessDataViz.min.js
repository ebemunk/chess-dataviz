!function t(n,r,e){function i(o,u){if(!r[o]){if(!n[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[o]={exports:{}};n[o][0].call(l.exports,function(t){var r=n[o][1][t];return i(r?r:t)},l,l.exports,t,n,r,e)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}({1:[function(t,n,r){function e(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+r.humanize(this.diff),!n)return t;var e="color: "+this.color;t=[t[0],e,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,a=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(a=i))}),t.splice(a,0,e),t}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(n){}}function u(){var t;try{t=r.storage.debug}catch(n){}return t}function c(){try{return window.localStorage}catch(t){}}r=n.exports=t("./debug"),r.log=a,r.formatArgs=i,r.save=o,r.load=u,r.useColors=e,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){return JSON.stringify(t)},r.enable(u())},{"./debug":2}],2:[function(t,n,r){function e(){return r.colors[l++%r.colors.length]}function i(t){function n(){}function i(){var t=i,n=+new Date,a=n-(s||n);t.diff=a,t.prev=s,t.curr=n,s=n,null==t.useColors&&(t.useColors=r.useColors()),null==t.color&&t.useColors&&(t.color=e());var o=Array.prototype.slice.call(arguments);o[0]=r.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var u=0;o[0]=o[0].replace(/%([a-z%])/g,function(n,e){if("%%"===n)return n;u++;var i=r.formatters[e];if("function"==typeof i){var a=o[u];n=i.call(t,a),o.splice(u,1),u--}return n}),"function"==typeof r.formatArgs&&(o=r.formatArgs.apply(t,o));var c=i.log||r.log||console.log.bind(console);c.apply(t,o)}n.enabled=!1,i.enabled=!0;var a=r.enabled(t)?i:n;return a.namespace=t,a}function a(t){r.save(t);for(var n=(t||"").split(/[\s,]+/),e=n.length,i=0;e>i;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")))}function o(){r.enable("")}function u(t){var n,e;for(n=0,e=r.skips.length;e>n;n++)if(r.skips[n].test(t))return!1;for(n=0,e=r.names.length;e>n;n++)if(r.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}r=n.exports=i,r.coerce=c,r.disable=o,r.enable=a,r.enabled=u,r.humanize=t("ms"),r.names=[],r.skips=[],r.formatters={};var s,l=0},{ms:4}],3:[function(t,n,r){(function(t){(function(){function e(t,n){if(t!==n){var r=null===t,e=t===S,i=t===t,a=null===n,o=n===S,u=n===n;if(t>n&&!a||!i||r&&!o&&u||e&&u)return 1;if(n>t&&!r||!u||a&&!e&&i||o&&i)return-1}return 0}function i(t,n,r){for(var e=t.length,i=r?e:-1;r?i--:++i<e;)if(n(t[i],i,t))return i;return-1}function a(t,n,r){if(n!==n)return _(t,r);for(var e=r-1,i=t.length;++e<i;)if(t[e]===n)return e;return-1}function o(t){return"function"==typeof t||!1}function u(t){return null==t?"":t+""}function c(t,n){for(var r=-1,e=t.length;++r<e&&n.indexOf(t.charAt(r))>-1;);return r}function s(t,n){for(var r=t.length;r--&&n.indexOf(t.charAt(r))>-1;);return r}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function f(t,n,r){for(var i=-1,a=t.criteria,o=n.criteria,u=a.length,c=r.length;++i<u;){var s=e(a[i],o[i]);if(s){if(i>=c)return s;var l=r[i];return s*("asc"===l||l===!0?1:-1)}}return t.index-n.index}function h(t){return Dt[t]}function p(t){return Vt[t]}function d(t,n,r){return n?t=Yt[t]:r&&(t=Gt[t]),"\\"+t}function v(t){return"\\"+Gt[t]}function _(t,n,r){for(var e=t.length,i=n+(r?0:-1);r?i--:++i<e;){var a=t[i];if(a!==a)return i}return-1}function g(t){return!!t&&"object"==typeof t}function y(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,n){for(var r=-1,e=t.length,i=-1,a=[];++r<e;)t[r]===n&&(t[r]=D,a[++i]=r);return a}function x(t,n){for(var r,e=-1,i=t.length,a=-1,o=[];++e<i;){var u=t[e],c=n?n(u,e,t):u;e&&r===c||(r=c,o[++a]=u)}return o}function w(t){for(var n=-1,r=t.length;++n<r&&y(t.charCodeAt(n)););return n}function b(t){for(var n=t.length;n--&&y(t.charCodeAt(n)););return n}function A(t){return Ht[t]}function k(t){function n(t){if(g(t)&&!Mu(t)&&!(t instanceof Q)){if(t instanceof y)return t;if(to.call(t,"__chain__")&&to.call(t,"__wrapped__"))return pe(t)}return new y(t)}function r(){}function y(t,n,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!n}function Q(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function nt(){var t=new Q(this.__wrapped__);return t.__actions__=tn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=tn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=tn(this.__views__),t}function et(){if(this.__filtered__){var t=new Q(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Dt(){var t=this.__wrapped__.value(),n=this.__dir__,r=Mu(t),e=0>n,i=r?t.length:0,a=Hr(0,i,this.__views__),o=a.start,u=a.end,c=u-o,s=e?u:o-1,l=this.__iteratees__,f=l.length,h=0,p=Ao(c,this.__takeCount__);if(!r||U>i||i==c&&p==c)return er(e&&r?t.reverse():t,this.__actions__);var d=[];t:for(;c--&&p>h;){s+=n;for(var v=-1,_=t[s];++v<f;){var g=l[v],y=g.iteratee,m=g.type,x=y(_);if(m==B)_=x;else if(!x){if(m==N)continue t;break t}}d[h++]=_}return d}function Vt(){this.__data__={}}function Ht(t){return this.has(t)&&delete this.__data__[t]}function Kt(t){return"__proto__"==t?S:this.__data__[t]}function Yt(t){return"__proto__"!=t&&to.call(this.__data__,t)}function Gt(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Jt(t){var n=t?t.length:0;for(this.data={hash:go(null),set:new lo};n--;)this.push(t[n])}function Qt(t,n){var r=t.data,e="string"==typeof n||Wi(n)?r.set.has(n):r.hash[n];return e?0:-1}function Xt(t){var n=this.data;"string"==typeof t||Wi(t)?n.set.add(t):n.hash[t]=!0}function Zt(t,n){for(var r=-1,e=t.length,i=-1,a=n.length,o=Ua(e+a);++r<e;)o[r]=t[r];for(;++i<a;)o[r++]=n[i];return o}function tn(t,n){var r=-1,e=t.length;for(n||(n=Ua(e));++r<e;)n[r]=t[r];return n}function nn(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function an(t,n){for(var r=t.length;r--&&n(t[r],r,t)!==!1;);return t}function on(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function un(t,n,r,e){for(var i=-1,a=t.length,o=e,u=o;++i<a;){var c=t[i],s=+n(c);r(s,o)&&(o=s,u=c)}return u}function cn(t,n){for(var r=-1,e=t.length,i=-1,a=[];++r<e;){var o=t[r];n(o,r,t)&&(a[++i]=o)}return a}function sn(t,n){for(var r=-1,e=t.length,i=Ua(e);++r<e;)i[r]=n(t[r],r,t);return i}function ln(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}function fn(t,n,r,e){var i=-1,a=t.length;for(e&&a&&(r=t[++i]);++i<a;)r=n(r,t[i],i,t);return r}function hn(t,n,r,e){var i=t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function pn(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function dn(t,n){for(var r=t.length,e=0;r--;)e+=+n(t[r])||0;return e}function vn(t,n){return t===S?n:t}function _n(t,n,r,e){return t!==S&&to.call(e,r)?t:n}function gn(t,n,r){for(var e=-1,i=Uu(n),a=i.length;++e<a;){var o=i[e],u=t[o],c=r(u,n[o],o,t,n);(c===c?c===u:u!==u)&&(u!==S||o in t)||(t[o]=c)}return t}function yn(t,n){return null==n?t:xn(n,Uu(n),t)}function mn(t,n){for(var r=-1,e=null==t,i=!e&&Qr(t),a=i?t.length:0,o=n.length,u=Ua(o);++r<o;){var c=n[r];i?u[r]=Xr(c,a)?t[c]:S:u[r]=e?S:t[c]}return u}function xn(t,n,r){r||(r={});for(var e=-1,i=n.length;++e<i;){var a=n[e];r[a]=t[a]}return r}function wn(t,n,r){var e=typeof t;return"function"==e?n===S?t:or(t,n,r):null==t?Ea:"object"==e?Un(t):n===S?Ia(t):Nn(t,n)}function bn(t,n,r,e,i,a,o){var u;if(r&&(u=i?r(t,e,i):r(t)),u!==S)return u;if(!Wi(t))return t;var c=Mu(t);if(c){if(u=Kr(t),!n)return tn(t,u)}else{var s=ro.call(t),l=s==J;if(s!=Z&&s!=V&&(!l||i))return Lt[s]?Gr(t,s,n):i?t:{};if(u=Yr(l?{}:t),!n)return yn(u,t)}a||(a=[]),o||(o=[]);for(var f=a.length;f--;)if(a[f]==t)return o[f];return a.push(t),o.push(u),(c?nn:Tn)(t,function(e,i){u[i]=bn(e,n,r,i,t,a,o)}),u}function An(t,n,r){if("function"!=typeof t)throw new Ga(L);return fo(function(){t.apply(S,r)},n)}function kn(t,n){var r=t?t.length:0,e=[];if(!r)return e;var i=-1,o=Lr(),u=o==a,c=u&&n.length>=U?vr(n):null,s=n.length;c&&(o=Qt,u=!1,n=c);t:for(;++i<r;){var l=t[i];if(u&&l===l){for(var f=s;f--;)if(n[f]===l)continue t;e.push(l)}else o(n,l,0)<0&&e.push(l)}return e}function Sn(t,n){var r=!0;return zo(t,function(t,e,i){return r=!!n(t,e,i)}),r}function jn(t,n,r,e){var i=e,a=i;return zo(t,function(t,o,u){var c=+n(t,o,u);(r(c,i)||c===e&&c===a)&&(i=c,a=t)}),a}function En(t,n,r,e){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),e=e===S||e>i?i:+e||0,0>e&&(e+=i),i=r>e?0:e>>>0,r>>>=0;i>r;)t[r++]=n;return t}function On(t,n){var r=[];return zo(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Mn(t,n,r,e){var i;return r(t,function(t,r,a){return n(t,r,a)?(i=e?r:t,!1):void 0}),i}function Cn(t,n,r,e){e||(e=[]);for(var i=-1,a=t.length;++i<a;){var o=t[i];g(o)&&Qr(o)&&(r||Mu(o)||Si(o))?n?Cn(o,n,r,e):ln(e,o):r||(e[e.length]=o)}return e}function Rn(t,n){return Fo(t,n,ta)}function Tn(t,n){return Fo(t,n,Uu)}function In(t,n){return $o(t,n,Uu)}function Wn(t,n){for(var r=-1,e=n.length,i=-1,a=[];++r<e;){var o=n[r];Ii(t[o])&&(a[++i]=o)}return a}function qn(t,n,r){if(null!=t){r!==S&&r in fe(t)&&(n=[r]);for(var e=0,i=n.length;null!=t&&i>e;)t=t[n[e++]];return e&&e==i?t:S}}function zn(t,n,r,e,i,a){return t===n?!0:null==t||null==n||!Wi(t)&&!g(n)?t!==t&&n!==n:Pn(t,n,zn,r,e,i,a)}function Pn(t,n,r,e,i,a,o){var u=Mu(t),c=Mu(n),s=H,l=H;u||(s=ro.call(t),s==V?s=Z:s!=Z&&(u=Li(t))),c||(l=ro.call(n),l==V?l=Z:l!=Z&&(c=Li(n)));var f=s==Z,h=l==Z,p=s==l;if(p&&!u&&!f)return $r(t,n,s);if(!i){var d=f&&to.call(t,"__wrapped__"),v=h&&to.call(n,"__wrapped__");if(d||v)return r(d?t.value():t,v?n.value():n,e,i,a,o)}if(!p)return!1;a||(a=[]),o||(o=[]);for(var _=a.length;_--;)if(a[_]==t)return o[_]==n;a.push(t),o.push(n);var g=(u?Fr:Ur)(t,n,r,e,i,a,o);return a.pop(),o.pop(),g}function Fn(t,n,r){var e=n.length,i=e,a=!r;if(null==t)return!i;for(t=fe(t);e--;){var o=n[e];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++e<i;){o=n[e];var u=o[0],c=t[u],s=o[1];if(a&&o[2]){if(c===S&&!(u in t))return!1}else{var l=r?r(c,s,u):S;if(!(l===S?zn(s,c,r,!0):l))return!1}}return!0}function $n(t,n){var r=-1,e=Qr(t)?Ua(t.length):[];return zo(t,function(t,i,a){e[++r]=n(t,i,a)}),e}function Un(t){var n=Dr(t);if(1==n.length&&n[0][2]){var r=n[0][0],e=n[0][1];return function(t){return null==t?!1:t[r]===e&&(e!==S||r in fe(t))}}return function(t){return Fn(t,n)}}function Nn(t,n){var r=Mu(t),e=te(t)&&ee(n),i=t+"";return t=he(t),function(a){if(null==a)return!1;var o=i;if(a=fe(a),(r||!e)&&!(o in a)){if(a=1==t.length?a:qn(a,Gn(t,0,-1)),null==a)return!1;o=je(t),a=fe(a)}return a[o]===n?n!==S||o in a:zn(n,a[o],S,!0)}}function Bn(t,n,r,e,i){if(!Wi(t))return t;var a=Qr(n)&&(Mu(n)||Li(n)),o=a?S:Uu(n);return nn(o||n,function(u,c){if(o&&(c=u,u=n[c]),g(u))e||(e=[]),i||(i=[]),Ln(t,n,c,Bn,r,e,i);else{var s=t[c],l=r?r(s,u,c,t,n):S,f=l===S;f&&(l=u),l===S&&(!a||c in t)||!f&&(l===l?l===s:s!==s)||(t[c]=l)}}),t}function Ln(t,n,r,e,i,a,o){for(var u=a.length,c=n[r];u--;)if(a[u]==c)return void(t[r]=o[u]);var s=t[r],l=i?i(s,c,r,t,n):S,f=l===S;f&&(l=c,Qr(c)&&(Mu(c)||Li(c))?l=Mu(s)?s:Qr(s)?tn(s):[]:Ui(c)||Si(c)?l=Si(s)?Yi(s):Ui(s)?s:{}:f=!1),a.push(c),o.push(l),f?t[r]=e(l,c,i,a,o):(l===l?l!==s:s===s)&&(t[r]=l)}function Dn(t){return function(n){return null==n?S:n[t]}}function Vn(t){var n=t+"";return t=he(t),function(r){return qn(r,t,n)}}function Hn(t,n){for(var r=t?n.length:0;r--;){var e=n[r];if(e!=i&&Xr(e)){var i=e;ho.call(t,e,1)}}return t}function Kn(t,n){return t+yo(jo()*(n-t+1))}function Yn(t,n,r,e,i){return i(t,function(t,i,a){r=e?(e=!1,t):n(r,t,i,a)}),r}function Gn(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===S||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var a=Ua(i);++e<i;)a[e]=t[e+n];return a}function Jn(t,n){var r;return zo(t,function(t,e,i){return r=n(t,e,i),!r}),!!r}function Qn(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}function Xn(t,n,r){var e=Nr(),i=-1;n=sn(n,function(t){return e(t)});var a=$n(t,function(t){var r=sn(n,function(n){return n(t)});return{criteria:r,index:++i,value:t}});return Qn(a,function(t,n){return f(t,n,r)})}function Zn(t,n){var r=0;return zo(t,function(t,e,i){r+=+n(t,e,i)||0}),r}function tr(t,n){var r=-1,e=Lr(),i=t.length,o=e==a,u=o&&i>=U,c=u?vr():null,s=[];c?(e=Qt,o=!1):(u=!1,c=n?[]:s);t:for(;++r<i;){var l=t[r],f=n?n(l,r,t):l;if(o&&l===l){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),s.push(l)}else e(c,f,0)<0&&((n||u)&&c.push(f),s.push(l))}return s}function nr(t,n){for(var r=-1,e=n.length,i=Ua(e);++r<e;)i[r]=t[n[r]];return i}function rr(t,n,r,e){for(var i=t.length,a=e?i:-1;(e?a--:++a<i)&&n(t[a],a,t););return r?Gn(t,e?0:a,e?a+1:i):Gn(t,e?a+1:0,e?i:a)}function er(t,n){var r=t;r instanceof Q&&(r=r.value());for(var e=-1,i=n.length;++e<i;){var a=n[e];r=a.func.apply(a.thisArg,ln([r],a.args))}return r}function ir(t,n,r){var e=0,i=t?t.length:e;if("number"==typeof n&&n===n&&Ro>=i){for(;i>e;){var a=e+i>>>1,o=t[a];(r?n>=o:n>o)&&null!==o?e=a+1:i=a}return i}return ar(t,n,Ea,r)}function ar(t,n,r,e){n=r(n);for(var i=0,a=t?t.length:0,o=n!==n,u=null===n,c=n===S;a>i;){var s=yo((i+a)/2),l=r(t[s]),f=l!==S,h=l===l;if(o)var p=h||e;else p=u?h&&f&&(e||null!=l):c?h&&(e||f):null==l?!1:e?n>=l:n>l;p?i=s+1:a=s}return Ao(a,Co)}function or(t,n,r){if("function"!=typeof t)return Ea;if(n===S)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,a){return t.call(n,r,e,i,a)};case 5:return function(r,e,i,a,o){return t.call(n,r,e,i,a,o)}}return function(){return t.apply(n,arguments)}}function ur(t){var n=new ao(t.byteLength),r=new po(n);return r.set(new po(t)),n}function cr(t,n,r){for(var e=r.length,i=-1,a=bo(t.length-e,0),o=-1,u=n.length,c=Ua(u+a);++o<u;)c[o]=n[o];for(;++i<e;)c[r[i]]=t[i];for(;a--;)c[o++]=t[i++];return c}function sr(t,n,r){for(var e=-1,i=r.length,a=-1,o=bo(t.length-i,0),u=-1,c=n.length,s=Ua(o+c);++a<o;)s[a]=t[a];for(var l=a;++u<c;)s[l+u]=n[u];for(;++e<i;)s[l+r[e]]=t[a++];return s}function lr(t,n){return function(r,e,i){var a=n?n():{};if(e=Nr(e,i,3),Mu(r))for(var o=-1,u=r.length;++o<u;){var c=r[o];t(a,c,e(c,o,r),r)}else zo(r,function(n,r,i){t(a,n,e(n,r,i),i)});return a}}function fr(t){return gi(function(n,r){var e=-1,i=null==n?0:r.length,a=i>2?r[i-2]:S,o=i>2?r[2]:S,u=i>1?r[i-1]:S;for("function"==typeof a?(a=or(a,u,5),i-=2):(a="function"==typeof u?u:S,i-=a?1:0),o&&Zr(r[0],r[1],o)&&(a=3>i?S:a,i=1);++e<i;){var c=r[e];c&&t(n,c,a)}return n})}function hr(t,n){return function(r,e){var i=r?Bo(r):0;if(!re(i))return t(r,e);for(var a=n?i:-1,o=fe(r);(n?a--:++a<i)&&e(o[a],a,o)!==!1;);return r}}function pr(t){return function(n,r,e){for(var i=fe(n),a=e(n),o=a.length,u=t?o:-1;t?u--:++u<o;){var c=a[u];if(r(i[c],c,i)===!1)break}return n}}function dr(t,n){function r(){var i=this&&this!==rn&&this instanceof r?e:t;return i.apply(n,arguments)}var e=gr(t);return r}function vr(t){return go&&lo?new Jt(t):null}function _r(t){return function(n){for(var r=-1,e=ka(la(n)),i=e.length,a="";++r<i;)a=t(a,e[r],r);return a}}function gr(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=qo(t.prototype),e=t.apply(r,n);return Wi(e)?e:r}}function yr(t){function n(r,e,i){i&&Zr(r,e,i)&&(e=S);var a=Pr(r,t,S,S,S,S,S,e);return a.placeholder=n.placeholder,a}return n}function mr(t,n){return gi(function(r){var e=r[0];return null==e?e:(r.push(n),t.apply(S,r))})}function xr(t,n){return function(r,e,i){if(i&&Zr(r,e,i)&&(e=S),e=Nr(e,i,3),1==e.length){r=Mu(r)?r:le(r);var a=un(r,e,t,n);if(!r.length||a!==n)return a}return jn(r,e,t,n)}}function wr(t,n){return function(r,e,a){if(e=Nr(e,a,3),Mu(r)){var o=i(r,e,n);return o>-1?r[o]:S}return Mn(r,e,t)}}function br(t){return function(n,r,e){return n&&n.length?(r=Nr(r,e,3),i(n,r,t)):-1}}function Ar(t){return function(n,r,e){return r=Nr(r,e,3),Mn(n,r,t,!0)}}function kr(t){return function(){for(var n,r=arguments.length,e=t?r:-1,i=0,a=Ua(r);t?e--:++e<r;){var o=a[i++]=arguments[e];if("function"!=typeof o)throw new Ga(L);!n&&y.prototype.thru&&"wrapper"==Br(o)&&(n=new y([],!0))}for(e=n?-1:r;++e<r;){o=a[e];var u=Br(o),c="wrapper"==u?No(o):S;n=c&&ne(c[0])&&c[1]==(W|C|T|q)&&!c[4].length&&1==c[9]?n[Br(c[0])].apply(n,c[3]):1==o.length&&ne(o)?n[u]():n.thru(o)}return function(){var t=arguments,e=t[0];if(n&&1==t.length&&Mu(e)&&e.length>=U)return n.plant(e).value();for(var i=0,o=r?a[i].apply(this,t):e;++i<r;)o=a[i].call(this,o);return o}}}function Sr(t,n){return function(r,e,i){return"function"==typeof e&&i===S&&Mu(r)?t(r,e):n(r,or(e,i,3))}}function jr(t){return function(n,r,e){return("function"!=typeof r||e!==S)&&(r=or(r,e,3)),t(n,r,ta)}}function Er(t){return function(n,r,e){return("function"!=typeof r||e!==S)&&(r=or(r,e,3)),t(n,r)}}function Or(t){return function(n,r,e){var i={};return r=Nr(r,e,3),Tn(n,function(n,e,a){var o=r(n,e,a);e=t?o:e,n=t?n:o,i[e]=n}),i}}function Mr(t){return function(n,r,e){return n=u(n),(t?n:"")+Ir(n,r,e)+(t?"":n)}}function Cr(t){var n=gi(function(r,e){var i=m(e,n.placeholder);return Pr(r,t,S,e,i)});return n}function Rr(t,n){return function(r,e,i,a){var o=arguments.length<3;return"function"==typeof e&&a===S&&Mu(r)?t(r,e,i,o):Yn(r,Nr(e,a,4),i,o,n)}}function Tr(t,n,r,e,i,a,o,u,c,s){function l(){for(var y=arguments.length,x=y,w=Ua(y);x--;)w[x]=arguments[x];if(e&&(w=cr(w,e,i)),a&&(w=sr(w,a,o)),d||_){var b=l.placeholder,A=m(w,b);if(y-=A.length,s>y){var k=u?tn(u):S,j=bo(s-y,0),M=d?A:S,C=d?S:A,R=d?w:S,W=d?S:w;n|=d?T:I,n&=~(d?I:T),v||(n&=~(E|O));var q=[t,n,r,R,M,W,C,k,c,j],z=Tr.apply(S,q);return ne(t)&&Lo(z,q),z.placeholder=b,z}}var P=h?r:this,F=p?P[t]:t;return u&&(w=ce(w,u)),f&&c<w.length&&(w.length=c),this&&this!==rn&&this instanceof l&&(F=g||gr(t)),F.apply(P,w)}var f=n&W,h=n&E,p=n&O,d=n&C,v=n&M,_=n&R,g=p?S:gr(t);return l}function Ir(t,n,r){var e=t.length;if(n=+n,e>=n||!xo(n))return"";var i=n-e;return r=null==r?" ":r+"",_a(r,_o(i/r.length)).slice(0,i)}function Wr(t,n,r,e){function i(){for(var n=-1,u=arguments.length,c=-1,s=e.length,l=Ua(s+u);++c<s;)l[c]=e[c];for(;u--;)l[c++]=arguments[++n];var f=this&&this!==rn&&this instanceof i?o:t;return f.apply(a?r:this,l)}var a=n&E,o=gr(t);return i}function qr(t){var n=Da[t];return function(t,r){return r=r===S?0:+r||0,r?(r=co(10,r),n(t*r)/r):n(t)}}function zr(t){return function(n,r,e,i){var a=Nr(e);return null==e&&a===wn?ir(n,r,t):ar(n,r,a(e,i,1),t)}}function Pr(t,n,r,e,i,a,o,u){var c=n&O;if(!c&&"function"!=typeof t)throw new Ga(L);var s=e?e.length:0;if(s||(n&=~(T|I),e=i=S),s-=i?i.length:0,n&I){var l=e,f=i;e=i=S}var h=c?S:No(t),p=[t,n,r,e,i,l,f,a,o,u];if(h&&(ie(p,h),n=p[1],u=p[9]),p[9]=null==u?c?0:t.length:bo(u-s,0)||0,n==E)var d=dr(p[0],p[2]);else d=n!=T&&n!=(E|T)||p[4].length?Tr.apply(S,p):Wr.apply(S,p);var v=h?Uo:Lo;return v(d,p)}function Fr(t,n,r,e,i,a,o){var u=-1,c=t.length,s=n.length;if(c!=s&&!(i&&s>c))return!1;for(;++u<c;){var l=t[u],f=n[u],h=e?e(i?f:l,i?l:f,u):S;if(h!==S){if(h)continue;return!1}if(i){if(!pn(n,function(t){return l===t||r(l,t,e,i,a,o)}))return!1}else if(l!==f&&!r(l,f,e,i,a,o))return!1}return!0}function $r(t,n,r){switch(r){case K:case Y:return+t==+n;case G:return t.name==n.name&&t.message==n.message;case X:return t!=+t?n!=+n:t==+n;case tt:case rt:return t==n+""}return!1}function Ur(t,n,r,e,i,a,o){var u=Uu(t),c=u.length,s=Uu(n),l=s.length;if(c!=l&&!i)return!1;for(var f=c;f--;){var h=u[f];if(!(i?h in n:to.call(n,h)))return!1}for(var p=i;++f<c;){h=u[f];var d=t[h],v=n[h],_=e?e(i?v:d,i?d:v,h):S;if(!(_===S?r(d,v,e,i,a,o):_))return!1;p||(p="constructor"==h)}if(!p){var g=t.constructor,y=n.constructor;if(g!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function Nr(t,r,e){var i=n.callback||Sa;return i=i===Sa?wn:i,e?i(t,r,e):i}function Br(t){for(var n=t.name,r=Wo[n],e=r?r.length:0;e--;){var i=r[e],a=i.func;if(null==a||a==t)return i.name}return n}function Lr(t,r,e){var i=n.indexOf||ke;return i=i===ke?a:i,t?i(t,r,e):i}function Dr(t){for(var n=na(t),r=n.length;r--;)n[r][2]=ee(n[r][1]);return n}function Vr(t,n){var r=null==t?S:t[n];return Pi(r)?r:S}function Hr(t,n,r){for(var e=-1,i=r.length;++e<i;){var a=r[e],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":n-=o;break;case"take":n=Ao(n,t+o);break;case"takeRight":t=bo(t,n-o)}}return{start:t,end:n}}function Kr(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&to.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Yr(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Ha),new n}function Gr(t,n,r){var e=t.constructor;switch(n){case it:return ur(t);case K:case Y:return new e(+t);case at:case ot:case ut:case ct:case st:case lt:case ft:case ht:case pt:var i=t.buffer;return new e(r?ur(i):i,t.byteOffset,t.length);case X:case rt:return new e(t);case tt:var a=new e(t.source,Tt.exec(t));a.lastIndex=t.lastIndex}return a}function Jr(t,n,r){null==t||te(n,t)||(n=he(n),t=1==n.length?t:qn(t,Gn(n,0,-1)),n=je(n));var e=null==t?t:t[n];return null==e?S:e.apply(t,r)}function Qr(t){return null!=t&&re(Bo(t))}function Xr(t,n){return t="number"==typeof t||qt.test(t)?+t:-1,n=null==n?To:n,t>-1&&t%1==0&&n>t}function Zr(t,n,r){if(!Wi(r))return!1;var e=typeof n;if("number"==e?Qr(r)&&Xr(n,r.length):"string"==e&&n in r){var i=r[n];return t===t?t===i:i!==i}return!1}function te(t,n){var r=typeof t;if("string"==r&&St.test(t)||"number"==r)return!0;if(Mu(t))return!1;var e=!kt.test(t);return e||null!=n&&t in fe(n)}function ne(t){var r=Br(t);if(!(r in Q.prototype))return!1;var e=n[r];if(t===e)return!0;var i=No(e);return!!i&&t===i[0]}function re(t){return"number"==typeof t&&t>-1&&t%1==0&&To>=t}function ee(t){return t===t&&!Wi(t)}function ie(t,n){var r=t[1],e=n[1],i=r|e,a=W>i,o=e==W&&r==C||e==W&&r==q&&t[7].length<=n[8]||e==(W|q)&&r==C;if(!a&&!o)return t;e&E&&(t[2]=n[2],i|=r&E?0:M);var u=n[3];if(u){var c=t[3];t[3]=c?cr(c,u,n[4]):tn(u),t[4]=c?m(t[3],D):tn(n[4])}return u=n[5],u&&(c=t[5],t[5]=c?sr(c,u,n[6]):tn(u),t[6]=c?m(t[5],D):tn(n[6])),u=n[7],u&&(t[7]=tn(u)),e&W&&(t[8]=null==t[8]?n[8]:Ao(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function ae(t,n){return t===S?n:Cu(t,n,ae)}function oe(t,n){t=fe(t);for(var r=-1,e=n.length,i={};++r<e;){var a=n[r];a in t&&(i[a]=t[a])}return i}function ue(t,n){var r={};return Rn(t,function(t,e,i){n(t,e,i)&&(r[e]=t)}),r}function ce(t,n){for(var r=t.length,e=Ao(n.length,r),i=tn(t);e--;){var a=n[e];t[e]=Xr(a,r)?i[a]:S}return t}function se(t){for(var n=ta(t),r=n.length,e=r&&t.length,i=!!e&&re(e)&&(Mu(t)||Si(t)),a=-1,o=[];++a<r;){var u=n[a];(i&&Xr(u,e)||to.call(t,u))&&o.push(u)}return o}function le(t){return null==t?[]:Qr(t)?Wi(t)?t:Ha(t):aa(t)}function fe(t){return Wi(t)?t:Ha(t)}function he(t){if(Mu(t))return t;var n=[];return u(t).replace(jt,function(t,r,e,i){n.push(e?i.replace(Ct,"$1"):r||t)}),n}function pe(t){return t instanceof Q?t.clone():new y(t.__wrapped__,t.__chain__,tn(t.__actions__))}function de(t,n,r){n=(r?Zr(t,n,r):null==n)?1:bo(yo(n)||1,1);for(var e=0,i=t?t.length:0,a=-1,o=Ua(_o(i/n));i>e;)o[++a]=Gn(t,e,e+=n);return o}function ve(t){for(var n=-1,r=t?t.length:0,e=-1,i=[];++n<r;){var a=t[n];a&&(i[++e]=a)}return i}function _e(t,n,r){var e=t?t.length:0;return e?((r?Zr(t,n,r):null==n)&&(n=1),Gn(t,0>n?0:n)):[]}function ge(t,n,r){var e=t?t.length:0;return e?((r?Zr(t,n,r):null==n)&&(n=1),n=e-(+n||0),Gn(t,0,0>n?0:n)):[]}function ye(t,n,r){return t&&t.length?rr(t,Nr(n,r,3),!0,!0):[]}function me(t,n,r){return t&&t.length?rr(t,Nr(n,r,3),!0):[]}function xe(t,n,r,e){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&Zr(t,n,r)&&(r=0,e=i),En(t,n,r,e)):[]}function we(t){return t?t[0]:S}function be(t,n,r){var e=t?t.length:0;return r&&Zr(t,n,r)&&(n=!1),e?Cn(t,n):[]}function Ae(t){var n=t?t.length:0;return n?Cn(t,!0):[]}function ke(t,n,r){var e=t?t.length:0;if(!e)return-1;if("number"==typeof r)r=0>r?bo(e+r,0):r;else if(r){var i=ir(t,n);return e>i&&(n===n?n===t[i]:t[i]!==t[i])?i:-1}return a(t,n,r||0)}function Se(t){return ge(t,1)}function je(t){var n=t?t.length:0;return n?t[n-1]:S}function Ee(t,n,r){var e=t?t.length:0;if(!e)return-1;var i=e;if("number"==typeof r)i=(0>r?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){i=ir(t,n,!0)-1;var a=t[i];return(n===n?n===a:a!==a)?i:-1}if(n!==n)return _(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function Oe(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var r=0,e=Lr(),i=t.length;++r<i;)for(var a=0,o=t[r];(a=e(n,o,a))>-1;)ho.call(n,a,1);return n}function Me(t,n,r){var e=[];if(!t||!t.length)return e;var i=-1,a=[],o=t.length;for(n=Nr(n,r,3);++i<o;){var u=t[i];n(u,i,t)&&(e.push(u),a.push(i))}return Hn(t,a),e}function Ce(t){return _e(t,1)}function Re(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&Zr(t,n,r)&&(n=0,r=e),Gn(t,n,r)):[]}function Te(t,n,r){var e=t?t.length:0;return e?((r?Zr(t,n,r):null==n)&&(n=1),Gn(t,0,0>n?0:n)):[]}function Ie(t,n,r){var e=t?t.length:0;return e?((r?Zr(t,n,r):null==n)&&(n=1),n=e-(+n||0),Gn(t,0>n?0:n)):[]}function We(t,n,r){return t&&t.length?rr(t,Nr(n,r,3),!1,!0):[]}function qe(t,n,r){return t&&t.length?rr(t,Nr(n,r,3)):[]}function ze(t,n,r,e){var i=t?t.length:0;if(!i)return[];null!=n&&"boolean"!=typeof n&&(e=r,r=Zr(t,n,e)?S:n,n=!1);var o=Nr();return(null!=r||o!==wn)&&(r=o(r,e,3)),n&&Lr()==a?x(t,r):tr(t,r)}function Pe(t){if(!t||!t.length)return[];var n=-1,r=0;t=cn(t,function(t){return Qr(t)?(r=bo(t.length,r),!0):void 0});for(var e=Ua(r);++n<r;)e[n]=sn(t,Dn(n));return e}function Fe(t,n,r){var e=t?t.length:0;if(!e)return[];var i=Pe(t);return null==n?i:(n=or(n,r,4),sn(i,function(t){return fn(t,n,S,!0)}))}function $e(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(Qr(r))var e=e?ln(kn(e,r),kn(r,e)):r}return e?tr(e):[]}function Ue(t,n){var r=-1,e=t?t.length:0,i={};for(!e||n||Mu(t[0])||(n=[]);++r<e;){var a=t[r];n?i[a]=n[r]:a&&(i[a[0]]=a[1])}return i}function Ne(t){var r=n(t);return r.__chain__=!0,r}function Be(t,n,r){return n.call(r,t),t}function Le(t,n,r){return n.call(r,t)}function De(){return Ne(this)}function Ve(){return new y(this.value(),this.__chain__)}function He(t){for(var n,e=this;e instanceof r;){var i=pe(e);n?a.__wrapped__=i:n=i;var a=i;e=e.__wrapped__}return a.__wrapped__=t,n}function Ke(){var t=this.__wrapped__,n=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof Q){var r=t;return this.__actions__.length&&(r=new Q(this)),r=r.reverse(),r.__actions__.push({func:Le,args:[n],thisArg:S}),new y(r,this.__chain__)}return this.thru(n)}function Ye(){return this.value()+""}function Ge(){return er(this.__wrapped__,this.__actions__)}function Je(t,n,r){var e=Mu(t)?on:Sn;return r&&Zr(t,n,r)&&(n=S),("function"!=typeof n||r!==S)&&(n=Nr(n,r,3)),e(t,n)}function Qe(t,n,r){var e=Mu(t)?cn:On;return n=Nr(n,r,3),e(t,n)}function Xe(t,n){return iu(t,Un(n))}function Ze(t,n,r,e){var i=t?Bo(t):0;return re(i)||(t=aa(t),i=t.length),r="number"!=typeof r||e&&Zr(n,r,e)?0:0>r?bo(i+r,0):r||0,"string"==typeof t||!Mu(t)&&Bi(t)?i>=r&&t.indexOf(n,r)>-1:!!i&&Lr(t,n,r)>-1}function ti(t,n,r){var e=Mu(t)?sn:$n;return n=Nr(n,r,3),e(t,n)}function ni(t,n){return ti(t,Ia(n))}function ri(t,n,r){var e=Mu(t)?cn:On;return n=Nr(n,r,3),e(t,function(t,r,e){return!n(t,r,e)})}function ei(t,n,r){if(r?Zr(t,n,r):null==n){t=le(t);var e=t.length;return e>0?t[Kn(0,e-1)]:S}var i=-1,a=Ki(t),e=a.length,o=e-1;for(n=Ao(0>n?0:+n||0,e);++i<n;){var u=Kn(i,o),c=a[u];a[u]=a[i],a[i]=c}return a.length=n,a}function ii(t){return ei(t,Oo)}function ai(t){var n=t?Bo(t):0;return re(n)?n:Uu(t).length}function oi(t,n,r){var e=Mu(t)?pn:Jn;return r&&Zr(t,n,r)&&(n=S),("function"!=typeof n||r!==S)&&(n=Nr(n,r,3)),e(t,n)}function ui(t,n,r){if(null==t)return[];r&&Zr(t,n,r)&&(n=S);var e=-1;n=Nr(n,r,3);var i=$n(t,function(t,r,i){return{criteria:n(t,r,i),index:++e,value:t}});return Qn(i,l)}function ci(t,n,r,e){return null==t?[]:(e&&Zr(n,r,e)&&(r=S),Mu(n)||(n=null==n?[]:[n]),Mu(r)||(r=null==r?[]:[r]),Xn(t,n,r))}function si(t,n){return Qe(t,Un(n))}function li(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Ga(L);var r=t;t=n,n=r}return t=xo(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function fi(t,n,r){return r&&Zr(t,n,r)&&(n=S),n=t&&null==n?t.length:bo(+n||0,0),Pr(t,W,S,S,S,S,n)}function hi(t,n){var r;if("function"!=typeof n){if("function"!=typeof t)throw new Ga(L);var e=t;t=n,n=e}return function(){return--t>0&&(r=n.apply(this,arguments)),1>=t&&(n=S),r}}function pi(t,n,r){function e(){p&&oo(p),s&&oo(s),v=0,s=p=d=S}function i(n,r){r&&oo(r),s=p=d=S,n&&(v=vu(),l=t.apply(h,c),p||s||(c=h=S))}function a(){var t=n-(vu()-f);0>=t||t>n?i(d,s):p=fo(a,t)}function o(){i(g,p)}function u(){if(c=arguments,f=vu(),h=this,d=g&&(p||!y),_===!1)var r=y&&!p;else{s||y||(v=f);var e=_-(f-v),i=0>=e||e>_;i?(s&&(s=oo(s)),v=f,l=t.apply(h,c)):s||(s=fo(o,e))}return i&&p?p=oo(p):p||n===_||(p=fo(a,n)),r&&(i=!0,l=t.apply(h,c)),!i||p||s||(c=h=S),l}var c,s,l,f,h,p,d,v=0,_=!1,g=!0;if("function"!=typeof t)throw new Ga(L);if(n=0>n?0:+n||0,r===!0){var y=!0;g=!1}else Wi(r)&&(y=!!r.leading,_="maxWait"in r&&bo(+r.maxWait||0,n),g="trailing"in r?!!r.trailing:g);return u.cancel=e,u}function di(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Ga(L);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,e);return r.cache=a.set(i,o),o};return r.cache=new di.Cache,r}function vi(t){if("function"!=typeof t)throw new Ga(L);return function(){return!t.apply(this,arguments)}}function _i(t){return hi(2,t)}function gi(t,n){if("function"!=typeof t)throw new Ga(L);return n=bo(n===S?t.length-1:+n||0,0),function(){for(var r=arguments,e=-1,i=bo(r.length-n,0),a=Ua(i);++e<i;)a[e]=r[n+e];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var o=Ua(n+1);for(e=-1;++e<n;)o[e]=r[e];return o[n]=a,t.apply(this,o)}}function yi(t){if("function"!=typeof t)throw new Ga(L);return function(n){return t.apply(this,n)}}function mi(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new Ga(L);return r===!1?e=!1:Wi(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),pi(t,n,{leading:e,maxWait:+n,trailing:i})}function xi(t,n){return n=null==n?Ea:n,Pr(n,T,S,[t],[])}function wi(t,n,r,e){return n&&"boolean"!=typeof n&&Zr(t,n,r)?n=!1:"function"==typeof n&&(e=r,r=n,n=!1),"function"==typeof r?bn(t,n,or(r,e,1)):bn(t,n)}function bi(t,n,r){return"function"==typeof n?bn(t,!0,or(n,r,1)):bn(t,!0)}function Ai(t,n){return t>n}function ki(t,n){return t>=n}function Si(t){return g(t)&&Qr(t)&&to.call(t,"callee")&&!so.call(t,"callee")}function ji(t){return t===!0||t===!1||g(t)&&ro.call(t)==K}function Ei(t){return g(t)&&ro.call(t)==Y}function Oi(t){return!!t&&1===t.nodeType&&g(t)&&!Ui(t)}function Mi(t){return null==t?!0:Qr(t)&&(Mu(t)||Bi(t)||Si(t)||g(t)&&Ii(t.splice))?!t.length:!Uu(t).length}function Ci(t,n,r,e){r="function"==typeof r?or(r,e,3):S;var i=r?r(t,n):S;return i===S?zn(t,n,r):!!i}function Ri(t){return g(t)&&"string"==typeof t.message&&ro.call(t)==G;
}function Ti(t){return"number"==typeof t&&xo(t)}function Ii(t){return Wi(t)&&ro.call(t)==J}function Wi(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function qi(t,n,r,e){return r="function"==typeof r?or(r,e,3):S,Fn(t,Dr(n),r)}function zi(t){return $i(t)&&t!=+t}function Pi(t){return null==t?!1:Ii(t)?io.test(Za.call(t)):g(t)&&Wt.test(t)}function Fi(t){return null===t}function $i(t){return"number"==typeof t||g(t)&&ro.call(t)==X}function Ui(t){var n;if(!g(t)||ro.call(t)!=Z||Si(t)||!to.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Rn(t,function(t,n){r=n}),r===S||to.call(t,r)}function Ni(t){return Wi(t)&&ro.call(t)==tt}function Bi(t){return"string"==typeof t||g(t)&&ro.call(t)==rt}function Li(t){return g(t)&&re(t.length)&&!!Bt[ro.call(t)]}function Di(t){return t===S}function Vi(t,n){return n>t}function Hi(t,n){return n>=t}function Ki(t){var n=t?Bo(t):0;return re(n)?n?tn(t):[]:aa(t)}function Yi(t){return xn(t,ta(t))}function Gi(t,n,r){var e=qo(t);return r&&Zr(t,n,r)&&(n=S),n?yn(e,n):e}function Ji(t){return Wn(t,ta(t))}function Qi(t,n,r){var e=null==t?S:qn(t,he(n),n+"");return e===S?r:e}function Xi(t,n){if(null==t)return!1;var r=to.call(t,n);if(!r&&!te(n)){if(n=he(n),t=1==n.length?t:qn(t,Gn(n,0,-1)),null==t)return!1;n=je(n),r=to.call(t,n)}return r||re(t.length)&&Xr(n,t.length)&&(Mu(t)||Si(t))}function Zi(t,n,r){r&&Zr(t,n,r)&&(n=S);for(var e=-1,i=Uu(t),a=i.length,o={};++e<a;){var u=i[e],c=t[u];n?to.call(o,c)?o[c].push(u):o[c]=[u]:o[c]=u}return o}function ta(t){if(null==t)return[];Wi(t)||(t=Ha(t));var n=t.length;n=n&&re(n)&&(Mu(t)||Si(t))&&n||0;for(var r=t.constructor,e=-1,i="function"==typeof r&&r.prototype===t,a=Ua(n),o=n>0;++e<n;)a[e]=e+"";for(var u in t)o&&Xr(u,n)||"constructor"==u&&(i||!to.call(t,u))||a.push(u);return a}function na(t){t=fe(t);for(var n=-1,r=Uu(t),e=r.length,i=Ua(e);++n<e;){var a=r[n];i[n]=[a,t[a]]}return i}function ra(t,n,r){var e=null==t?S:t[n];return e===S&&(null==t||te(n,t)||(n=he(n),t=1==n.length?t:qn(t,Gn(n,0,-1)),e=null==t?S:t[je(n)]),e=e===S?r:e),Ii(e)?e.call(t):e}function ea(t,n,r){if(null==t)return t;var e=n+"";n=null!=t[e]||te(n,t)?[e]:he(n);for(var i=-1,a=n.length,o=a-1,u=t;null!=u&&++i<a;){var c=n[i];Wi(u)&&(i==o?u[c]=r:null==u[c]&&(u[c]=Xr(n[i+1])?[]:{})),u=u[c]}return t}function ia(t,n,r,e){var i=Mu(t)||Li(t);if(n=Nr(n,e,4),null==r)if(i||Wi(t)){var a=t.constructor;r=i?Mu(t)?new a:[]:qo(Ii(a)?a.prototype:S)}else r={};return(i?nn:Tn)(t,function(t,e,i){return n(r,t,e,i)}),r}function aa(t){return nr(t,Uu(t))}function oa(t){return nr(t,ta(t))}function ua(t,n,r){return n=+n||0,r===S?(r=n,n=0):r=+r||0,t>=Ao(n,r)&&t<bo(n,r)}function ca(t,n,r){r&&Zr(t,n,r)&&(n=r=S);var e=null==t,i=null==n;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof n&&(r=n,i=!0)),e&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,r||t%1||n%1){var a=jo();return Ao(t+a*(n-t+uo("1e-"+((a+"").length-1))),n)}return Kn(t,n)}function sa(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function la(t){return t=u(t),t&&t.replace(zt,h).replace(Mt,"")}function fa(t,n,r){t=u(t),n+="";var e=t.length;return r=r===S?e:Ao(0>r?0:+r||0,e),r-=n.length,r>=0&&t.indexOf(n,r)==r}function ha(t){return t=u(t),t&&xt.test(t)?t.replace(yt,p):t}function pa(t){return t=u(t),t&&Ot.test(t)?t.replace(Et,d):t||"(?:)"}function da(t,n,r){t=u(t),n=+n;var e=t.length;if(e>=n||!xo(n))return t;var i=(n-e)/2,a=yo(i),o=_o(i);return r=Ir("",o,r),r.slice(0,a)+t+r}function va(t,n,r){return(r?Zr(t,n,r):null==n)?n=0:n&&(n=+n),t=ma(t),So(t,n||(It.test(t)?16:10))}function _a(t,n){var r="";if(t=u(t),n=+n,1>n||!t||!xo(n))return r;do n%2&&(r+=t),n=yo(n/2),t+=t;while(n);return r}function ga(t,n,r){return t=u(t),r=null==r?0:Ao(0>r?0:+r||0,t.length),t.lastIndexOf(n,r)==r}function ya(t,r,e){var i=n.templateSettings;e&&Zr(t,r,e)&&(r=e=S),t=u(t),r=gn(yn({},e||r),i,_n);var a,o,c=gn(yn({},r.imports),i.imports,_n),s=Uu(c),l=nr(c,s),f=0,h=r.interpolate||Pt,p="__p += '",d=Ka((r.escape||Pt).source+"|"+h.source+"|"+(h===At?Rt:Pt).source+"|"+(r.evaluate||Pt).source+"|$","g"),_="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Nt+"]")+"\n";t.replace(d,function(n,r,e,i,u,c){return e||(e=i),p+=t.slice(f,c).replace(Ft,v),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),u&&(o=!0,p+="';\n"+u+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),f=c+n.length,n}),p+="';\n";var g=r.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(dt,""):p).replace(vt,"$1").replace(_t,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Qu(function(){return La(s,_+"return "+p).apply(S,l)});if(y.source=p,Ri(y))throw y;return y}function ma(t,n,r){var e=t;return(t=u(t))?(r?Zr(e,n,r):null==n)?t.slice(w(t),b(t)+1):(n+="",t.slice(c(t,n),s(t,n)+1)):t}function xa(t,n,r){var e=t;return t=u(t),t?(r?Zr(e,n,r):null==n)?t.slice(w(t)):t.slice(c(t,n+"")):t}function wa(t,n,r){var e=t;return t=u(t),t?(r?Zr(e,n,r):null==n)?t.slice(0,b(t)+1):t.slice(0,s(t,n+"")+1):t}function ba(t,n,r){r&&Zr(t,n,r)&&(n=S);var e=z,i=P;if(null!=n)if(Wi(n)){var a="separator"in n?n.separator:a;e="length"in n?+n.length||0:e,i="omission"in n?u(n.omission):i}else e=+n||0;if(t=u(t),e>=t.length)return t;var o=e-i.length;if(1>o)return i;var c=t.slice(0,o);if(null==a)return c+i;if(Ni(a)){if(t.slice(o).search(a)){var s,l,f=t.slice(0,o);for(a.global||(a=Ka(a.source,(Tt.exec(a)||"")+"g")),a.lastIndex=0;s=a.exec(f);)l=s.index;c=c.slice(0,null==l?o:l)}}else if(t.indexOf(a,o)!=o){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+i}function Aa(t){return t=u(t),t&&mt.test(t)?t.replace(gt,A):t}function ka(t,n,r){return r&&Zr(t,n,r)&&(n=S),t=u(t),t.match(n||$t)||[]}function Sa(t,n,r){return r&&Zr(t,n,r)&&(n=S),g(t)?Oa(t):wn(t,n)}function ja(t){return function(){return t}}function Ea(t){return t}function Oa(t){return Un(bn(t,!0))}function Ma(t,n){return Nn(t,bn(n,!0))}function Ca(t,n,r){if(null==r){var e=Wi(n),i=e?Uu(n):S,a=i&&i.length?Wn(n,i):S;(a?a.length:e)||(a=!1,r=n,n=t,t=this)}a||(a=Wn(n,Uu(n)));var o=!0,u=-1,c=Ii(t),s=a.length;r===!1?o=!1:Wi(r)&&"chain"in r&&(o=r.chain);for(;++u<s;){var l=a[u],f=n[l];t[l]=f,c&&(t.prototype[l]=function(n){return function(){var r=this.__chain__;if(o||r){var e=t(this.__wrapped__),i=e.__actions__=tn(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}return n.apply(t,ln([this.value()],arguments))}}(f))}return t}function Ra(){return rn._=eo,this}function Ta(){}function Ia(t){return te(t)?Dn(t):Vn(t)}function Wa(t){return function(n){return qn(t,he(n),n+"")}}function qa(t,n,r){r&&Zr(t,n,r)&&(n=r=S),t=+t||0,r=null==r?1:+r||0,null==n?(n=t,t=0):n=+n||0;for(var e=-1,i=bo(_o((n-t)/(r||1)),0),a=Ua(i);++e<i;)a[e]=t,t+=r;return a}function za(t,n,r){if(t=yo(t),1>t||!xo(t))return[];var e=-1,i=Ua(Ao(t,Mo));for(n=or(n,r,1);++e<t;)Mo>e?i[e]=n(e):n(e);return i}function Pa(t){var n=++no;return u(t)+n}function Fa(t,n){return(+t||0)+(+n||0)}function $a(t,n,r){return r&&Zr(t,n,r)&&(n=S),n=Nr(n,r,3),1==n.length?dn(Mu(t)?t:le(t),n):Zn(t,n)}t=t?en.defaults(rn.Object(),t,en.pick(rn,Ut)):rn;var Ua=t.Array,Na=t.Date,Ba=t.Error,La=t.Function,Da=t.Math,Va=t.Number,Ha=t.Object,Ka=t.RegExp,Ya=t.String,Ga=t.TypeError,Ja=Ua.prototype,Qa=Ha.prototype,Xa=Ya.prototype,Za=La.prototype.toString,to=Qa.hasOwnProperty,no=0,ro=Qa.toString,eo=rn._,io=Ka("^"+Za.call(to).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=t.ArrayBuffer,oo=t.clearTimeout,uo=t.parseFloat,co=Da.pow,so=Qa.propertyIsEnumerable,lo=Vr(t,"Set"),fo=t.setTimeout,ho=Ja.splice,po=t.Uint8Array,vo=Vr(t,"WeakMap"),_o=Da.ceil,go=Vr(Ha,"create"),yo=Da.floor,mo=Vr(Ua,"isArray"),xo=t.isFinite,wo=Vr(Ha,"keys"),bo=Da.max,Ao=Da.min,ko=Vr(Na,"now"),So=t.parseInt,jo=Da.random,Eo=Va.NEGATIVE_INFINITY,Oo=Va.POSITIVE_INFINITY,Mo=4294967295,Co=Mo-1,Ro=Mo>>>1,To=9007199254740991,Io=vo&&new vo,Wo={};n.support={};n.templateSettings={escape:wt,evaluate:bt,interpolate:At,variable:"",imports:{_:n}};var qo=function(){function t(){}return function(n){if(Wi(n)){t.prototype=n;var r=new t;t.prototype=S}return r||{}}}(),zo=hr(Tn),Po=hr(In,!0),Fo=pr(),$o=pr(!0),Uo=Io?function(t,n){return Io.set(t,n),t}:Ea,No=Io?function(t){return Io.get(t)}:Ta,Bo=Dn("length"),Lo=function(){var t=0,n=0;return function(r,e){var i=vu(),a=$-(i-n);if(n=i,a>0){if(++t>=F)return r}else t=0;return Uo(r,e)}}(),Do=gi(function(t,n){return g(t)&&Qr(t)?kn(t,Cn(n,!1,!0)):[]}),Vo=br(),Ho=br(!0),Ko=gi(function(t){for(var n=t.length,r=n,e=Ua(f),i=Lr(),o=i==a,u=[];r--;){var c=t[r]=Qr(c=t[r])?c:[];e[r]=o&&c.length>=120?vr(r&&c):null}var s=t[0],l=-1,f=s?s.length:0,h=e[0];t:for(;++l<f;)if(c=s[l],(h?Qt(h,c):i(u,c,0))<0){for(var r=n;--r;){var p=e[r];if((p?Qt(p,c):i(t[r],c,0))<0)continue t}h&&h.push(c),u.push(c)}return u}),Yo=gi(function(t,n){n=Cn(n);var r=mn(t,n);return Hn(t,n.sort(e)),r}),Go=zr(),Jo=zr(!0),Qo=gi(function(t){return tr(Cn(t,!1,!0))}),Xo=gi(function(t,n){return Qr(t)?kn(t,n):[]}),Zo=gi(Pe),tu=gi(function(t){var n=t.length,r=n>2?t[n-2]:S,e=n>1?t[n-1]:S;return n>2&&"function"==typeof r?n-=2:(r=n>1&&"function"==typeof e?(--n,e):S,e=S),t.length=n,Fe(t,r,e)}),nu=gi(function(t){return t=Cn(t),this.thru(function(n){return Zt(Mu(n)?n:[fe(n)],t)})}),ru=gi(function(t,n){return mn(t,Cn(n))}),eu=lr(function(t,n,r){to.call(t,r)?++t[r]:t[r]=1}),iu=wr(zo),au=wr(Po,!0),ou=Sr(nn,zo),uu=Sr(an,Po),cu=lr(function(t,n,r){to.call(t,r)?t[r].push(n):t[r]=[n]}),su=lr(function(t,n,r){t[r]=n}),lu=gi(function(t,n,r){var e=-1,i="function"==typeof n,a=te(n),o=Qr(t)?Ua(t.length):[];return zo(t,function(t){var u=i?n:a&&null!=t?t[n]:S;o[++e]=u?u.apply(t,r):Jr(t,n,r)}),o}),fu=lr(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),hu=Rr(fn,zo),pu=Rr(hn,Po),du=gi(function(t,n){if(null==t)return[];var r=n[2];return r&&Zr(n[0],n[1],r)&&(n.length=1),Xn(t,Cn(n),[])}),vu=ko||function(){return(new Na).getTime()},_u=gi(function(t,n,r){var e=E;if(r.length){var i=m(r,_u.placeholder);e|=T}return Pr(t,e,n,r,i)}),gu=gi(function(t,n){n=n.length?Cn(n):Ji(t);for(var r=-1,e=n.length;++r<e;){var i=n[r];t[i]=Pr(t[i],E,t)}return t}),yu=gi(function(t,n,r){var e=E|O;if(r.length){var i=m(r,yu.placeholder);e|=T}return Pr(n,e,t,r,i)}),mu=yr(C),xu=yr(R),wu=gi(function(t,n){return An(t,1,n)}),bu=gi(function(t,n,r){return An(t,n,r)}),Au=kr(),ku=kr(!0),Su=gi(function(t,n){if(n=Cn(n),"function"!=typeof t||!on(n,o))throw new Ga(L);var r=n.length;return gi(function(e){for(var i=Ao(e.length,r);i--;)e[i]=n[i](e[i]);return t.apply(this,e)})}),ju=Cr(T),Eu=Cr(I),Ou=gi(function(t,n){return Pr(t,q,S,S,S,Cn(n))}),Mu=mo||function(t){return g(t)&&re(t.length)&&ro.call(t)==H},Cu=fr(Bn),Ru=fr(function(t,n,r){return r?gn(t,n,r):yn(t,n)}),Tu=mr(Ru,vn),Iu=mr(Cu,ae),Wu=Ar(Tn),qu=Ar(In),zu=jr(Fo),Pu=jr($o),Fu=Er(Tn),$u=Er(In),Uu=wo?function(t){var n=null==t?S:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&Qr(t)?se(t):Wi(t)?wo(t):[]}:se,Nu=Or(!0),Bu=Or(),Lu=gi(function(t,n){if(null==t)return{};if("function"!=typeof n[0]){var n=sn(Cn(n),Ya);return oe(t,kn(ta(t),n))}var r=or(n[0],n[1],3);return ue(t,function(t,n,e){return!r(t,n,e)})}),Du=gi(function(t,n){return null==t?{}:"function"==typeof n[0]?ue(t,or(n[0],n[1],3)):oe(t,Cn(n))}),Vu=_r(function(t,n,r){return n=n.toLowerCase(),t+(r?n.charAt(0).toUpperCase()+n.slice(1):n)}),Hu=_r(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),Ku=Mr(),Yu=Mr(!0),Gu=_r(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),Ju=_r(function(t,n,r){return t+(r?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),Qu=gi(function(t,n){try{return t.apply(S,n)}catch(r){return Ri(r)?r:new Ba(r)}}),Xu=gi(function(t,n){return function(r){return Jr(r,t,n)}}),Zu=gi(function(t,n){return function(r){return Jr(t,r,n)}}),tc=qr("ceil"),nc=qr("floor"),rc=xr(Ai,Eo),ec=xr(Vi,Oo),ic=qr("round");return n.prototype=r.prototype,y.prototype=qo(r.prototype),y.prototype.constructor=y,Q.prototype=qo(r.prototype),Q.prototype.constructor=Q,Vt.prototype["delete"]=Ht,Vt.prototype.get=Kt,Vt.prototype.has=Yt,Vt.prototype.set=Gt,Jt.prototype.push=Xt,di.Cache=Vt,n.after=li,n.ary=fi,n.assign=Ru,n.at=ru,n.before=hi,n.bind=_u,n.bindAll=gu,n.bindKey=yu,n.callback=Sa,n.chain=Ne,n.chunk=de,n.compact=ve,n.constant=ja,n.countBy=eu,n.create=Gi,n.curry=mu,n.curryRight=xu,n.debounce=pi,n.defaults=Tu,n.defaultsDeep=Iu,n.defer=wu,n.delay=bu,n.difference=Do,n.drop=_e,n.dropRight=ge,n.dropRightWhile=ye,n.dropWhile=me,n.fill=xe,n.filter=Qe,n.flatten=be,n.flattenDeep=Ae,n.flow=Au,n.flowRight=ku,n.forEach=ou,n.forEachRight=uu,n.forIn=zu,n.forInRight=Pu,n.forOwn=Fu,n.forOwnRight=$u,n.functions=Ji,n.groupBy=cu,n.indexBy=su,n.initial=Se,n.intersection=Ko,n.invert=Zi,n.invoke=lu,n.keys=Uu,n.keysIn=ta,n.map=ti,n.mapKeys=Nu,n.mapValues=Bu,n.matches=Oa,n.matchesProperty=Ma,n.memoize=di,n.merge=Cu,n.method=Xu,n.methodOf=Zu,n.mixin=Ca,n.modArgs=Su,n.negate=vi,n.omit=Lu,n.once=_i,n.pairs=na,n.partial=ju,n.partialRight=Eu,n.partition=fu,n.pick=Du,n.pluck=ni,n.property=Ia,n.propertyOf=Wa,n.pull=Oe,n.pullAt=Yo,n.range=qa,n.rearg=Ou,n.reject=ri,n.remove=Me,n.rest=Ce,n.restParam=gi,n.set=ea,n.shuffle=ii,n.slice=Re,n.sortBy=ui,n.sortByAll=du,n.sortByOrder=ci,n.spread=yi,n.take=Te,n.takeRight=Ie,n.takeRightWhile=We,n.takeWhile=qe,n.tap=Be,n.throttle=mi,n.thru=Le,n.times=za,n.toArray=Ki,n.toPlainObject=Yi,n.transform=ia,n.union=Qo,n.uniq=ze,n.unzip=Pe,n.unzipWith=Fe,n.values=aa,n.valuesIn=oa,n.where=si,n.without=Xo,n.wrap=xi,n.xor=$e,n.zip=Zo,n.zipObject=Ue,n.zipWith=tu,n.backflow=ku,n.collect=ti,n.compose=ku,n.each=ou,n.eachRight=uu,n.extend=Ru,n.iteratee=Sa,n.methods=Ji,n.object=Ue,n.select=Qe,n.tail=Ce,n.unique=ze,Ca(n,n),n.add=Fa,n.attempt=Qu,n.camelCase=Vu,n.capitalize=sa,n.ceil=tc,n.clone=wi,n.cloneDeep=bi,n.deburr=la,n.endsWith=fa,n.escape=ha,n.escapeRegExp=pa,n.every=Je,n.find=iu,n.findIndex=Vo,n.findKey=Wu,n.findLast=au,n.findLastIndex=Ho,n.findLastKey=qu,n.findWhere=Xe,n.first=we,n.floor=nc,n.get=Qi,n.gt=Ai,n.gte=ki,n.has=Xi,n.identity=Ea,n.includes=Ze,n.indexOf=ke,n.inRange=ua,n.isArguments=Si,n.isArray=Mu,n.isBoolean=ji,n.isDate=Ei,n.isElement=Oi,n.isEmpty=Mi,n.isEqual=Ci,n.isError=Ri,n.isFinite=Ti,n.isFunction=Ii,n.isMatch=qi,n.isNaN=zi,n.isNative=Pi,n.isNull=Fi,n.isNumber=$i,n.isObject=Wi,n.isPlainObject=Ui,n.isRegExp=Ni,n.isString=Bi,n.isTypedArray=Li,n.isUndefined=Di,n.kebabCase=Hu,n.last=je,n.lastIndexOf=Ee,n.lt=Vi,n.lte=Hi,n.max=rc,n.min=ec,n.noConflict=Ra,n.noop=Ta,n.now=vu,n.pad=da,n.padLeft=Ku,n.padRight=Yu,n.parseInt=va,n.random=ca,n.reduce=hu,n.reduceRight=pu,n.repeat=_a,n.result=ra,n.round=ic,n.runInContext=k,n.size=ai,n.snakeCase=Gu,n.some=oi,n.sortedIndex=Go,n.sortedLastIndex=Jo,n.startCase=Ju,n.startsWith=ga,n.sum=$a,n.template=ya,n.trim=ma,n.trimLeft=xa,n.trimRight=wa,n.trunc=ba,n.unescape=Aa,n.uniqueId=Pa,n.words=ka,n.all=Je,n.any=oi,n.contains=Ze,n.eq=Ci,n.detect=iu,n.foldl=hu,n.foldr=pu,n.head=we,n.include=Ze,n.inject=hu,Ca(n,function(){var t={};return Tn(n,function(r,e){n.prototype[e]||(t[e]=r)}),t}(),!1),n.sample=ei,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return ei(n,t)}):ei(this.value())},n.VERSION=j,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),nn(["drop","take"],function(t,n){Q.prototype[t]=function(r){var e=this.__filtered__;if(e&&!n)return new Q(this);r=null==r?1:bo(yo(r)||0,0);var i=this.clone();return e?i.__takeCount__=Ao(i.__takeCount__,r):i.__views__.push({size:r,type:t+(i.__dir__<0?"Right":"")}),i},Q.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),nn(["filter","map","takeWhile"],function(t,n){var r=n+1,e=r!=B;Q.prototype[t]=function(t,n){var i=this.clone();return i.__iteratees__.push({iteratee:Nr(t,n,1),type:r}),i.__filtered__=i.__filtered__||e,i}}),nn(["first","last"],function(t,n){var r="take"+(n?"Right":"");Q.prototype[t]=function(){return this[r](1).value()[0]}}),nn(["initial","rest"],function(t,n){var r="drop"+(n?"":"Right");Q.prototype[t]=function(){return this.__filtered__?new Q(this):this[r](1)}}),nn(["pluck","where"],function(t,n){var r=n?"filter":"map",e=n?Un:Ia;Q.prototype[t]=function(t){return this[r](e(t))}}),Q.prototype.compact=function(){return this.filter(Ea)},Q.prototype.reject=function(t,n){return t=Nr(t,n,1),this.filter(function(n){return!t(n)})},Q.prototype.slice=function(t,n){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||0>n)?new Q(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==S&&(n=+n||0,r=0>n?r.dropRight(-n):r.take(n-t)),r)},Q.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},Q.prototype.toArray=function(){return this.take(Oo)},Tn(Q.prototype,function(t,r){var e=/^(?:filter|map|reject)|While$/.test(r),i=/^(?:first|last)$/.test(r),a=n[i?"take"+("last"==r?"Right":""):r];a&&(n.prototype[r]=function(){var n=i?[1]:arguments,r=this.__chain__,o=this.__wrapped__,u=!!this.__actions__.length,c=o instanceof Q,s=n[0],l=c||Mu(o);l&&e&&"function"==typeof s&&1!=s.length&&(c=l=!1);var f=function(t){return i&&r?a(t,1)[0]:a.apply(S,ln([t],n))},h={func:Le,args:[f],thisArg:S},p=c&&!u;if(i&&!r)return p?(o=o.clone(),o.__actions__.push(h),t.call(o)):a.call(S,this.value())[0];if(!i&&l){o=p?o:new Q(this);var d=t.apply(o,n);return d.__actions__.push(h),new y(d,r)}return this.thru(f)})}),nn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var r=(/^(?:replace|split)$/.test(t)?Xa:Ja)[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),Tn(Q.prototype,function(t,r){var e=n[r];if(e){var i=e.name,a=Wo[i]||(Wo[i]=[]);a.push({name:r,func:e})}}),Wo[Tr(S,O).name]=[{name:"wrapper",func:S}],Q.prototype.clone=nt,Q.prototype.reverse=et,Q.prototype.value=Dt,n.prototype.chain=De,n.prototype.commit=Ve,n.prototype.concat=nu,n.prototype.plant=He,n.prototype.reverse=Ke,n.prototype.toString=Ye,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Ge,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var S,j="3.10.1",E=1,O=2,M=4,C=8,R=16,T=32,I=64,W=128,q=256,z=30,P="...",F=150,$=16,U=200,N=1,B=2,L="Expected a function",D="__lodash_placeholder__",V="[object Arguments]",H="[object Array]",K="[object Boolean]",Y="[object Date]",G="[object Error]",J="[object Function]",Q="[object Map]",X="[object Number]",Z="[object Object]",tt="[object RegExp]",nt="[object Set]",rt="[object String]",et="[object WeakMap]",it="[object ArrayBuffer]",at="[object Float32Array]",ot="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",st="[object Int32Array]",lt="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",dt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,yt=/[&<>"'`]/g,mt=RegExp(gt.source),xt=RegExp(yt.source),wt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,St=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Et=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ot=RegExp(Et.source),Mt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ct=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,It=/^0[xX]/,Wt=/^\[object .+?Constructor\]$/,qt=/^\d+$/,zt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pt=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,$t=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Ut=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Nt=-1,Bt={};Bt[at]=Bt[ot]=Bt[ut]=Bt[ct]=Bt[st]=Bt[lt]=Bt[ft]=Bt[ht]=Bt[pt]=!0,Bt[V]=Bt[H]=Bt[it]=Bt[K]=Bt[Y]=Bt[G]=Bt[J]=Bt[Q]=Bt[X]=Bt[Z]=Bt[tt]=Bt[nt]=Bt[rt]=Bt[et]=!1;var Lt={};Lt[V]=Lt[H]=Lt[it]=Lt[K]=Lt[Y]=Lt[at]=Lt[ot]=Lt[ut]=Lt[ct]=Lt[st]=Lt[X]=Lt[Z]=Lt[tt]=Lt[rt]=Lt[lt]=Lt[ft]=Lt[ht]=Lt[pt]=!0,Lt[G]=Lt[J]=Lt[Q]=Lt[nt]=Lt[et]=!1;var Dt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={"function":!0,object:!0},Yt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=Kt[typeof r]&&r&&!r.nodeType&&r,Qt=Kt[typeof n]&&n&&!n.nodeType&&n,Xt=Jt&&Qt&&"object"==typeof t&&t&&t.Object&&t,Zt=Kt[typeof self]&&self&&self.Object&&self,tn=Kt[typeof window]&&window&&window.Object&&window,nn=Qt&&Qt.exports===Jt&&Jt,rn=Xt||tn!==(this&&this.window)&&tn||Zt||this,en=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(rn._=en,define(function(){return en})):Jt&&Qt?nn?(Qt.exports=en)._=en:Jt._=en:rn._=en}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n,r){function e(t){if(t=""+t,!(t.length>1e4)){var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(n){var r=parseFloat(n[1]),e=(n[2]||"ms").toLowerCase();switch(e){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*l;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*c;case"seconds":case"second":case"secs":case"sec":case"s":return r*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function i(t){return t>=l?Math.round(t/l)+"d":t>=s?Math.round(t/s)+"h":t>=c?Math.round(t/c)+"m":t>=u?Math.round(t/u)+"s":t+"ms"}function a(t){return o(t,l,"day")||o(t,s,"hour")||o(t,c,"minute")||o(t,u,"second")||t+" ms"}function o(t,n,r){return n>t?void 0:1.5*n>t?Math.floor(t/n)+" "+r:Math.ceil(t/n)+" "+r+"s"}var u=1e3,c=60*u,s=60*c,l=24*s,f=365.25*l;n.exports=function(t,n){return n=n||{},"string"==typeof t?e(t):n["long"]?a(t):i(t)}},{}],5:[function(t,n,r){"use strict";function e(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n["default"]=t,n}Object.defineProperty(r,"__esModule",{value:!0}),r.ChessDataViz=void 0;var i=t("./util"),a=e(i),o=t("./EvalAndTime"),u=t("./HeatMap"),c=t("./Openings"),s=t("./MovePaths"),l=r.ChessDataViz={EvalAndTime:o.EvalAndTime,HeatMap:u.HeatMap,Openings:c.Openings,MovePaths:s.MovePaths,util:a};window.ChessDataViz=l},{"./EvalAndTime":6,"./HeatMap":7,"./MovePaths":8,"./Openings":9,"./util":10}],6:[function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();Object.defineProperty(r,"__esModule",{value:!0}),r.EvalAndTime=void 0;var o=t("lodash"),u=e(o),c=t("debug"),s=e(c),l=((0,s["default"])("cdv:EvalAndTime"),function(){function t(n,r,e){var a=this;i(this,t);var o=this;this.container=d3.select(n);var c={width:960,height:500,margin:{top:40,right:40,bottom:20,left:40},interactive:!0};r=r||{},this._options=u["default"].merge({},c,r),this._width=this._options.width-this._options.margin.left-this._options.margin.right,this._height=this._options.height-this._options.margin.top-this._options.margin.bottom,this.dispatch=d3.dispatch("mouseenter","mousemove","mouseleave"),this._xScale=d3.scale.ordinal().rangeBands([0,this._width],.1,0),this._yEvalScale=d3.scale.linear().range([this._height,0]).domain([-5,5]).clamp(!0),this._yTimeScale=d3.scale.linear().range([this._height,0]),this._xAxis=d3.svg.axis().scale(this._xScale).orient("top").tickFormat(function(t){return t+1}),this._yEvalAxis=d3.svg.axis().scale(this._yEvalScale).orient("left"),this._yTimeAxis=d3.svg.axis().scale(this._yTimeScale).orient("right").tickFormat(function(t){return Math.abs(t)}),this.container.selectAll("*").remove();var s=this.container.append("svg").attr("class","graph").attr("width",this._width+this._options.margin.left+this._options.margin.right).attr("height",this._height+this._options.margin.top+this._options.margin.bottom),l=s.append("g").attr("transform","translate("+this._options.margin.left+","+this._options.margin.top+")");l.append("g").attr("class","axis x").call(this._xAxis).append("text").attr("text-anchor","middle").attr("transform","translate("+this._width/2+",-25)").text("moves (ply)").attr("class","axis-label"),l.append("g").attr("class","axis yEval").call(this._yEvalAxis).append("text").attr("text-anchor","middle").attr("transform","rotate(-90) translate("+-this._yEvalScale(0)+",-25)").text("area: evaluation (pawns)").attr("class","axis-label"),l.append("g").attr("class","axis yTime").attr("transform","translate("+this._width+",0)").call(this._yTimeAxis).append("text").attr("text-anchor","middle").attr("transform","rotate(-90) translate("+-this._yEvalScale(0)+",35)").text("bars: move time (minutes)").attr("class","axis-label");var f=l.append("g").attr("class","eval-guides"),h=[.5,-.5,1,-1,2,-2],p=[{y:.5,dy:10,text:"equal"},{y:1,dy:10,text:"white is slightly better"},{y:2,dy:10,text:"white is much better"},{y:2,dy:-5,text:"white is winning"},{y:-.5,dy:10,text:"black is slightly better"},{y:-1,dy:10,text:"black is much better"},{y:-2,dy:10,text:"black is winning"}];f.selectAll(".eval-guide-line").data(h).enter().append("line").attr("x1",0).attr("y1",function(t){return a._yEvalScale(t)}).attr("x2",this._width).attr("y2",function(t){return a._yEvalScale(t)}).attr("class","eval-guide-line"),f.selectAll(".eval-guide-text").data(p).enter().append("text").attr("transform",function(t){var n=t.dy?t.dy:0;return"translate(5,"+(a._yEvalScale(t.y)+n)+")"}).text(function(t){return t.text}).attr("class","eval-guide-text"),l.append("g").attr("class","bars"),l.append("clipPath").attr("id","clip-white").append("rect").attr("width",this._width).attr("height",this._height/2),l.append("clipPath").attr("id","clip-black").append("rect").attr("y",this._height/2).attr("width",this._width).attr("height",this._height/2),l.append("g").attr("class","lines"),l.append("g").attr("class","areas");var d=l.append("g").attr("class","interactive-layer");d.selectAll(".guide").data(["x","yEval","yTime"]).enter().append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("class",function(t){return"guide "+t+"-guide"}),d.append("rect").attr("width",this._width).attr("height",this._height).attr("pointer-events","all").attr("class","mouse-absorb").on("mouseenter",function(){a.dispatch.mouseenter()}).on("mousemove",function(){if(o._options.interactive){var t=d3.mouse(this)[0],n=o._xScale.range(),r=o._xScale.rangeBand(),e=void 0;for(e=0;t>n[e]+r;e++);var i=o._xScale.domain()[e],a=o._xScale(i)+o._xScale.rangeBand()/2;if(a){d.select(".x-guide").classed("hidden",!1).attr("x1",a).attr("x2",a).attr("y1",-6).attr("y2",o._height);var u=o._yEvalScale(o._data[i].score);d.select(".yEval-guide").classed("hidden",!1).attr("x1",-6).attr("x2",a).transition().duration(100).attr("y1",u).attr("y2",u),u=o._yTimeScale(o._data[i].time),d.select(".yTime-guide").classed("hidden",!1).attr("x1",a).attr("x2",o._width+6).transition().duration(100).attr("y1",u).attr("y2",u),o.dispatch.mousemove(o._data[i])}}}).on("mouseleave",function(){o._options.interactive&&(d.selectAll(".interactive-layer .guide").classed("hidden",!0),o.dispatch.mouseleave())})}return a(t,[{key:"data",value:function(t){this._data=t,this.update()}},{key:"options",value:function(t){var n=["width","margin","boardWidth","squareWidth"];u["default"].merge(this._options,u["default"].omit(t,n)),u["default"].isArray(this._options.colorScale)&&this._scale.color.range(this._options.colorScale),this.update()}},{key:"update",value:function(){var t=this;this._xScale.domain(d3.range(this._data.length));var n=d3.max(d3.extent(this._data,function(t){return t.time}).map(Math.abs));this._yTimeScale.domain([-n,n]),this._xAxis.tickValues(this._xScale.domain().filter(function(t,n){return 0==n||!((n+1)%10)}));var r=d3.svg.line().x(function(n,r){return t._xScale(r)+t._xScale.rangeBand()/2}).y(function(n){return t._yEvalScale(n.score)}),e=d3.svg.area().x(r.x()).y1(r.y()).y0(this._yEvalScale(0)),i=this.container.transition();i.select("g.axis.x").call(this._xAxis),i.select("g.axis.yTime").call(this._yTimeAxis),i.select("g.axis.yEval").call(this._yEvalAxis);var a=this.container.select(".bars").selectAll(".bar").data(this._data);a.enter().append("rect").attr("height",0).attr("y",this._yTimeScale(0)),a.transition().delay(function(n,r){return r/t._xScale.domain().length*500}).attr("x",function(n,r){return t._xScale(r)}).attr("width",this._xScale.rangeBand()).attr("y",function(n){return n.time>0?t._yTimeScale(n.time):t._yTimeScale(0)}).attr("height",function(n){return n.time>0?t._yTimeScale(0)-t._yTimeScale(n.time):t._yTimeScale(n.time)-t._yTimeScale(0)}).attr("class",function(t,n){return"bar "+(n%2?"black":"white")}),a.exit().transition().delay(function(n,r){return r/t._xScale.domain().length*500}).attr("height",0).remove();var o=this.container.select(".lines").selectAll(".line");o.data(["white","black"]).enter().append("path").attr("class",function(t){return"line "+t}).attr("clip-path",function(t){return"url(#clip-"+t+")"}).datum(this._data).attr("d",r),o.datum(this._data).transition().attr("d",r);var u=this.container.select(".areas").selectAll(".area");u.data(["white","black"]).enter().append("path").attr("class",function(t){return"area "+t}).attr("clip-path",function(t){return"url(#clip-"+t+")"}).datum(this._data).attr("d",e),u.datum(this._data).transition().attr("d",e)}}]),t}());r.EvalAndTime=l},{debug:1,lodash:3}],7:[function(t,n,r){"use strict";function e(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n["default"]=t,n}function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();Object.defineProperty(r,"__esModule",{value:!0}),r.HeatMap=void 0;var u=t("lodash"),c=i(u),s=t("debug"),l=i(s),f=t("./util"),h=e(f),p=((0,l["default"])("cdv:HeatMap"),function(){function t(n,r,e){a(this,t),this.container=d3.select(n);var i={width:500,margin:20,accessor:{piece:"all",color:"w"},sizeScale:!0,colorScale:!1};r=r||{},this._options=c["default"].merge({},i,r),this._options.boardWidth=this._options.width-2*this._options.margin,
this._options.squareWidth=Math.floor(this._options.boardWidth/8),this.dispatch=d3.dispatch("mouseenter","mousemove","mouseleave"),this._scale={size:d3.scale.linear().range([0,this._options.squareWidth]),color:d3.scale.linear().range(["blue","red"])},c["default"].isArray(this._options.colorScale)&&this._scale.color.range(this._options.colorScale),this.container.selectAll("*").remove();var o=this.container.append("svg").attr("width",this._options.width+"px").attr("height",this._options.width+"px").attr("class","graph"),u=o.append("g").attr("transform","translate("+this._options.margin+","+this._options.margin+")").attr("class","board");h.drawBoard(u,this._options.squareWidth),this.dataContainer=u.append("g").attr("class","data-container"),e&&this.data(e)}return o(t,[{key:"data",value:function(t){this._data=t,this.update()}},{key:"options",value:function(t){var n=["width","margin","boardWidth","squareWidth"];c["default"].merge(this._options,c["default"].omit(t,n)),c["default"].isArray(this._options.colorScale)&&this._scale.color.range(this._options.colorScale),this.update()}},{key:"update",value:function(){function t(t){var n=void 0;return n=e._options.sizeScale?e._scale.size(t[e._options.accessor.piece][e._options.accessor.color]):e._options.squareWidth}function n(t){var n=void 0;return e._options.colorScale&&(n=e._scale.color(t[e._options.accessor.piece][e._options.accessor.color])),n}var r=this,e=this,i=d3.extent(this._data,function(t){return t[r._options.accessor.piece][r._options.accessor.color]});this._scale.size.domain(i),this._scale.color.domain(i);var a=this.dataContainer.selectAll(".heat-square").data(this._data);a.enter().append("rect").attr("x",function(t,n){return n%8*r._options.squareWidth+r._options.squareWidth/2}).attr("y",function(t,n){return Math.floor(n/8)*r._options.squareWidth+r._options.squareWidth/2}).attr("width",function(n){return t(n)+"px"}).attr("height",function(n){return t(n)+"px"}).attr("transform",function(n){var r=t(n)/2;return"translate(-"+r+",-"+r+")"}).attr("class","heat-square").style("fill",function(t,r){return n(t)}).on("mouseenter",function(t,n){r.dispatch.mouseenter(t[r._options.accessor.piece][r._options.accessor.color])}).on("mousemove",function(t,n){r.dispatch.mousemove()}).on("mouseout",function(t,n){r.dispatch.mouseleave()}),a.transition().attr("width",function(n){return t(n)+"px"}).attr("height",function(n){return t(n)+"px"}).attr("transform",function(n){var r=t(n)/2;return"translate(-"+r+",-"+r+")"}).style("fill",function(t,r){return n(t)})}}]),t}());r.HeatMap=p},{"./util":10,debug:1,lodash:3}],8:[function(t,n,r){"use strict";function e(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n["default"]=t,n}function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){var r=[],e=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(e=(o=u.next()).done)&&(r.push(o.value),!n||r.length!==n);e=!0);}catch(c){i=!0,a=c}finally{try{!e&&u["return"]&&u["return"]()}finally{if(i)throw a}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();Object.defineProperty(r,"__esModule",{value:!0}),r.MovePaths=void 0;var c=t("lodash"),s=i(c),l=t("debug"),f=i(l),h=t("./util"),p=e(h),d=((0,f["default"])("cdv:MovePaths"),function(){function t(n,r,e){a(this,t),this.container=d3.select(n);var i={width:500,margin:20,accessor:"Nb1",binSize:1,pointRandomizer:d3.random.normal(3,1),bezierRandomizer:d3.random.normal(12,4),bezierScaleFactor:2};r=r||{},this._options=s["default"].merge({},i,r),this._options.boardWidth=this._options.width-2*this._options.margin,this._options.squareWidth=Math.floor(this._options.boardWidth/8),this.container.selectAll("*").remove();var o=this.container.append("svg").attr("width",this._options.width+"px").attr("height",this._options.width+"px").attr("class","graph"),u=o.append("g").attr("transform","translate("+this._options.margin+","+this._options.margin+")").attr("class","board");p.drawBoard(u,this._options.squareWidth),this.dataContainer=u.append("g").attr("class","data-container"),e&&this.data(e)}return u(t,[{key:"data",value:function(t){this._data=t,this.update()}},{key:"options",value:function(t){var n=["width","margin","boardWidth","squareWidth"];s["default"].merge(this._options,s["default"].omit(t,n)),this.update()}},{key:"update",value:function(){function t(t){for(var n=[],e=0;2>e;e++){var i=t.split("-")[e].toLowerCase(),a=i.charCodeAt(0)-97,o=8-i[1],u=a*r._options.squareWidth+r._options.squareWidth/2,c=o*r._options.squareWidth+r._options.squareWidth/2;n.push({x:u,y:c})}return n}var n=this,r=this,e=[];s["default"].pairs(this._data[this._options.accessor]).forEach(function(t){for(var r=Math.ceil(t[1]/n._options.binSize),i=0;r>i;i++)e.push(t[0])}),this.dataContainer.selectAll(".move-path").remove(),this.dataContainer.selectAll(".move-path").data(e).enter().append("path").attr("class","move-path").attr("d",function(r){var e=t(r),i=o(e,2),a=i[0],u=i[1],c={x:-(u.y-a.y),y:u.x-a.x},s=Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2)),l=Math.sqrt(Math.pow(u.x-a.x,2)+Math.pow(u.y-a.y,2))/n._options.bezierScaleFactor;c.x/=s,c.y/=s,c.x*=l,c.y*=l;var f=void 0;f=u.x<a.x?{x:u.x+c.x,y:u.y+c.y}:{x:u.x-c.x,y:u.y-c.y},a.x+=n._options.pointRandomizer(),a.y+=n._options.pointRandomizer(),u.x+=n._options.pointRandomizer(),u.y+=n._options.pointRandomizer(),f.x+=n._options.bezierRandomizer(),f.y+=n._options.bezierRandomizer();var h="M"+a.x+","+a.y+", Q"+f.x+","+f.y+" "+u.x+","+u.y;return h})}}]),t}());r.MovePaths=d},{"./util":10,debug:1,lodash:3}],9:[function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t){for(var n=[],r=t;r.parent;)n.unshift(r),r=r.parent;return n}var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();Object.defineProperty(r,"__esModule",{value:!0}),r.Openings=void 0;var u=t("debug"),c=e(u),s=t("lodash"),l=e(s),f=((0,c["default"])("cdv:Openings"),function(){function t(n,r,e){i(this,t),this.container=d3.select(n);var a={width:550,height:550,colors:d3.scale.category10(),arcThreshold:.01,textThreshold:.1};r=r||{},this._options=l["default"].merge({},a,r),this.dispatch=d3.dispatch("mouseenter","mousemove","mouseleave"),this._partition=d3.layout.partition().sort(null).value(function(t){return t.count});var o=Math.min(this._options.width,this._options.height)/2,u=d3.scale.linear().range([0,2*Math.PI]),c=d3.scale.sqrt().range([0,o]);this._arc=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,u(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,u(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,c(t.y))}).outerRadius(function(t){return Math.max(0,c(t.y+t.dy))}),this.dataContainer=this.container.append("svg").attr("width",this._options.width).attr("height",this._options.height).append("g").attr("transform","translate("+this._options.width/2+","+this._options.height/2+")"),e&&this.data(e)}return o(t,[{key:"data",value:function(t){this._data=t,this.update()}},{key:"options",value:function(t){var n=["width","height"];l["default"].merge(this._options,l["default"].omit(t,n)),this.update()}},{key:"update",value:function(){function t(t,n){if(0!==n){var e=a(t)[0],i=d3.hsl(r._options.colors(e.san));return i=t.depth%2===0?i.darker(.5):i.brighter(.5),i=i.darker(.2*t.depth)}}var n=this,r=this,e=this._partition.nodes(this._data).filter(function(t){return t.dx>n._options.arcThreshold}),i=this.dataContainer.selectAll(".arc").data(e);i.enter().append("path").attr("display",function(t){return t.depth?null:"none"}).attr("d",this._arc).attr("fill-rule","evenodd").attr("class","arc").each(function(t){this.x0=0,this.dx0=0}).style("fill",t),i.on("mouseenter",function(t,r){var e=a(t);i.style("opacity",.3),i.filter(function(t){return e.indexOf(t)>-1}).style("opacity",1);var o=l["default"].pluck(e,"san");n.dispatch.mouseenter(t,o)}).on("mousemove",function(){n.dispatch.mousemove()}).on("mouseleave",function(){i.style("opacity",1),n.dispatch.mouseleave()}).transition().duration(500).attrTween("d",function(t){var n=d3.interpolate({x:this.x0,dx:this.dx0},t);return this.x0=t.x,this.dx0=t.dx,function(t){var e=n(t);return r._arc(e)}}).style("fill",t),i.exit().remove();var o=this.dataContainer.selectAll(".san").data(e);o.enter().append("text").attr("class","san").attr("dy","6").attr("text-anchor","middle"),o.transition().duration(500).attr("transform",function(t){return"translate("+n._arc.centroid(t)+")"}).text(function(t){return t.dx<n._options.textThreshold?"":t.depth?t.san:""}),o.exit().remove()}}]),t}());r.Openings=f},{debug:1,lodash:3}],10:[function(t,n,r){"use strict";function e(t,n){var r=t.time.match(/(\d+)m/);r=r?+r[1]:0;var e=t.time.match(/(\d+)s/);e=e?+e[1]:0;var i=r+e/60;return n%2&&(i=-i),i}function i(t){var n=t.score;return n.match(/#/g)?(n=n.replace("#",""),n=10*+n):n=+n,n}function a(t){return t.map(function(t,n){return t.time=e(t,n)}),t.map(function(t){return t.score=i(t)}),t}function o(){for(var t=[],n=0;64>n;n++)t.push({x:n%8,y:Math.floor(n/8)});return t}function u(t){return!(t.x%2)&&!(t.y%2)||t.x%2&&t.y%2}function c(t,n){var r=o(),e=t.selectAll(".square").data(r).enter().append("g").attr("class",function(t){var n=String.fromCharCode(97+t.x),r=8-t.y;return"square "+n+r}).classed("white",function(t){return u(t)}).classed("black",function(t){return!u(t)});e.append("rect").attr("x",function(t){return t.x*n}).attr("y",function(t){return t.y*n}).attr("width",n+"px").attr("height",n+"px").attr("class","sq");var i=d3.range(8).map(function(t){return".a"+(t+1)});t.selectAll(i).append("text").attr("x",function(t){return t.x*n}).attr("y",function(t){return t.y*n}).attr("dx","0.2em").attr("dy","1em").text(function(t){return 8-t.y}).attr("class","label");var a=d3.range(8).map(function(t){return String.fromCharCode(97+t)}),c=a.slice().map(function(t){return"."+t+"1"});t.selectAll(c).append("text").attr("x",function(t){return(t.x+1)*n}).attr("y",function(t){return(t.y+1)*n}).attr("dx","-0.3em").attr("dy","-0.5em").attr("text-anchor","end").text(function(t){return a[t.x]}).attr("class","label")}Object.defineProperty(r,"__esModule",{value:!0}),r.parseGameNotation=a,r.isWhite=u,r.drawBoard=c},{}]},{},[5]);